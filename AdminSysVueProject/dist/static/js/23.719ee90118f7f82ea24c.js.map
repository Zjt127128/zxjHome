{"version":3,"sources":["webpack:///src/views/order-ms/order/handleCancelOrder.vue","webpack:///./src/views/order-ms/order/handleCancelOrder.vue?257c","webpack:///./src/views/order-ms/order/handleCancelOrder.vue"],"names":["defaultorder","receiveNote","handleCancelOrder","name","data","message","title","content","type","userId","storeId","id","order","assign_default","dishList","messageDialogVisible","created","this","$route","query","getDetail","computed","totalAmount","dishRealPrice","dishCount","filters","formatTime","time","date","Date","Object","utils_date","methods","handleSendMessage","_this","applyTable","oldOrderType","then","res","$message","$router","back","catch","e","_this2","console","log","auctualPay","getAuctualPay","ap","otherFee","originalPrice","shopDiscount","couponDiscount","cp","consumeType","ps","paymentStatus","margin","handleViewOrder","push","path","orderId","handleY","_this3","o","$confirm","confirmButtonText","cancelButtonText","orderType","order_handleCancelOrder","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","shadow","_v","ref","border","dishOrders","label","align","scopedSlots","_u","key","fn","scope","_s","row","dishId","dishName","dishPrice","dishNum","staticStyle","float","margin-top","margin-bottom","span","_f","createTime","phone","reason","height","line-height","width","margin-left","size","disabled","placeholder","text-align","on","click","$event","visible","update:visible","model","label-width","value","callback","$$v","$set","expression","rows","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/23.719ee90118f7f82ea24c.js","sourcesContent":["<template>\r\n  <div class=\"detail-container\">\r\n    <el-card shadow=\"never\">\r\n      <span class=\"font-title-medium\">取消订单信息</span>\r\n      <el-table\r\n        border\r\n        class=\"standard-margin\"\r\n        ref=\"dishTable\"\r\n        :data=\"order.dishOrders\"\r\n      >\r\n        <el-table-column label=\"菜品编号\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"font-small\">{{ scope.row.dishId }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜品名称\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"font-small\">{{ scope.row.dishName }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"菜品单价\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span class=\"font-small\">￥{{ scope.row.dishPrice }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"数量\" align=\"center\">\r\n          <template slot-scope=\"scope\">{{ scope.row.dishNum }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"小计\" align=\"center\">\r\n          <template slot-scope=\"scope\"\r\n            >￥{{ scope.row.dishNum * scope.row.dishPrice }}</template\r\n          >\r\n        </el-table-column>\r\n      </el-table>\r\n      <div style=\"float: right; margin-top: 15px; margin-bottom: 15px\">\r\n        <span class=\"font-title-medium\">合计：</span>\r\n        <span class=\"font-title-medium color-danger\"\r\n          >￥{{ order.originalPrice }}</span\r\n        >\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-card shadow=\"never\" class=\"standard-margin\">\r\n      <span class=\"font-title-medium\">服务单信息</span>\r\n      <div class=\"form-container-border\">\r\n        <el-row>\r\n          <el-col :span=\"6\" class=\"form-border form-left-bg font-small\"\r\n            >订单编号</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">{{\r\n            order.id\r\n          }}</el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >申请状态</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">正在申请</el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >申请时间</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">{{\r\n            order.createTime | formatTime\r\n          }}</el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >申请人ID</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">{{\r\n            order.applyTable.userId\r\n          }}</el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >联系电话</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">{{\r\n            order.applyTable.phone\r\n          }}</el-col>\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >退货原因</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\">{{\r\n            order.applyTable.reason\r\n          }}</el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <div class=\"form-container-border\">\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >订单总额</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{ order.originalPrice }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >店铺折扣</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{ order.shopDiscount }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >使用优惠券</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{ order.couponDiscount }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >已支付保证金</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{ order.margin }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >其他费用</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{ order.otherFee }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col class=\"form-border form-left-bg font-small\" :span=\"6\"\r\n            >实际支付</el-col\r\n          >\r\n          <el-col class=\"form-border font-small\" :span=\"18\"\r\n            >￥{{\r\n              order.auctualPay\r\n            }}</el-col\r\n          >\r\n        </el-row>\r\n\r\n        <el-row>\r\n          <el-col\r\n            class=\"form-border form-left-bg font-small\"\r\n            :span=\"6\"\r\n            style=\"height: 52px; line-height: 32px\"\r\n          >\r\n            确认退款金额\r\n          </el-col>\r\n          <el-col\r\n            class=\"form-border font-small\"\r\n            style=\"height: 52px\"\r\n            :span=\"18\"\r\n          >\r\n            ￥\r\n            <el-input\r\n              size=\"small\"\r\n              style=\"width: 200px; margin-left: 10px\"\r\n              disabled\r\n              :placeholder=\"\r\n                order.auctualPay\r\n              \"\r\n            >\r\n            </el-input>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n\r\n      <div style=\"margin-top: 15px; text-align: center\">\r\n        <el-button type=\"primary\" size=\"small\" @click=\"handleY\"\r\n          >同意该申请</el-button\r\n        >\r\n        <el-button\r\n          type=\"danger\"\r\n          size=\"small\"\r\n          @click=\"messageDialogVisible = true\"\r\n          >拒绝该申请</el-button\r\n        >\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-dialog\r\n      title=\"填写拒绝理由\"\r\n      :visible.sync=\"messageDialogVisible\"\r\n      width=\"40%\"\r\n    >\r\n      <el-form :model=\"message\" ref=\"receiverInfoForm\" label-width=\"150px\">\r\n        <el-form-item label=\"标题：\">\r\n          <el-input\r\n            v-model=\"message.title\"\r\n            style=\"width: 200px\"\r\n            disabled\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"内容：\">\r\n          <el-input v-model=\"message.content\" type=\"textarea\" rows=\"3\">\r\n          </el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"messageDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleSendMessage\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getOrderDetail, updateOrderType, sendMessage } from \"@/api/order\";\r\nimport { formatDate } from \"@/utils/date\";\r\n\r\nconst defaultUpdateStatusParam = {};\r\nconst defaultorder = {\r\n  receiveNote: null,\r\n};\r\nexport default {\r\n  name: \"handleCancelOrder\",\r\n  data() {\r\n    return {\r\n      message: {\r\n        title: \"拒绝退货申请通知\",\r\n        content: null,\r\n        type: 1,\r\n        userId: null,\r\n        storeId: null,\r\n      },\r\n      id: null,\r\n      order: Object.assign({}, defaultorder),\r\n      dishList: null,\r\n      messageDialogVisible: false,\r\n    };\r\n  },\r\n  created() {\r\n    this.id = this.$route.query.id;\r\n    this.getDetail(this.id);\r\n  },\r\n  computed: {\r\n    totalAmount() {\r\n      if (this.order != null) {\r\n        return this.order.dishRealPrice * this.order.dishCount;\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n  },\r\n  filters: {\r\n    formatTime(time) {\r\n      if (time == null || time === \"\") {\r\n        return \"暂无数据\";\r\n      }\r\n      let date = new Date(time);\r\n      return formatDate(date, \"yyyy-MM-dd hh:mm:ss\");\r\n    },\r\n  },\r\n  methods: {\r\n    handleSendMessage() {\r\n      this.message.userId = this.order.userId;\r\n      this.message.storeId = this.order.storeId;\r\n      //先恢复订单原本状态\r\n      updateOrderType(\r\n        this.order.id,\r\n        -1,\r\n        this.order.applyTable.oldOrderType\r\n      ).then((res) => {\r\n        //成功后发送站内信\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"操作成功!\",\r\n        });\r\n        sendMessage(this.message)\r\n          .then((res) => {\r\n            this.$router.back();\r\n          })\r\n          .catch((e) => {\r\n            this.$router.back();\r\n          });\r\n      });\r\n    },\r\n    getDetail(id) {\r\n      getOrderDetail(id).then((res) => {\r\n        console.log(\"order == \", res.data);\r\n        this.order = res.data;\r\n        this.order.auctualPay = this.getAuctualPay(this.order);\r\n      });\r\n    },\r\n    getAuctualPay(order) {\r\n      let ap =\r\n        order.otherFee +\r\n        order.originalPrice -\r\n        order.shopDiscount -\r\n        order.couponDiscount;\r\n      console.log(\"app\", ap);\r\n      let cp = order.consumeType,  ps = order.paymentStatus;\r\n      if (cp == 1) {\r\n        return order.margin;\r\n      } else {\r\n        return ps ? ap : 0;\r\n      }\r\n    },\r\n    handleViewOrder() {\r\n      this.$router.push({\r\n        path: \"/order-ms/orderDetail\",\r\n        query: { id: this.order.orderId },\r\n      });\r\n    },\r\n    handleY() {\r\n      let o = this.order;\r\n      this.$confirm(\"是否要确认?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        updateOrderType(o.id, o.consumeType, o.orderType).then((res) => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"操作成功!\",\r\n          });\r\n          this.$router.back();\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.detail-container {\r\n  width: 1080px;\r\n  padding: 35px 35px 15px 35px;\r\n  margin: 20px auto;\r\n}\r\n\r\n.standard-margin {\r\n  margin-top: 15px;\r\n}\r\n.form-border {\r\n  border-right: 1px solid #dcdfe6;\r\n  border-bottom: 1px solid #dcdfe6;\r\n  padding: 10px;\r\n}\r\n\r\n.form-container-border {\r\n  border-left: 1px solid #dcdfe6;\r\n  border-top: 1px solid #dcdfe6;\r\n  margin-top: 15px;\r\n}\r\n\r\n.form-left-bg {\r\n  background: #f2f6fc;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/order-ms/order/handleCancelOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-container\"},[_c('el-card',{attrs:{\"shadow\":\"never\"}},[_c('span',{staticClass:\"font-title-medium\"},[_vm._v(\"取消订单信息\")]),_vm._v(\" \"),_c('el-table',{ref:\"dishTable\",staticClass:\"standard-margin\",attrs:{\"border\":\"\",\"data\":_vm.order.dishOrders}},[_c('el-table-column',{attrs:{\"label\":\"菜品编号\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"font-small\"},[_vm._v(_vm._s(scope.row.dishId))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品名称\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"font-small\"},[_vm._v(_vm._s(scope.row.dishName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜品单价\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"font-small\"},[_vm._v(\"￥\"+_vm._s(scope.row.dishPrice))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"数量\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.dishNum))]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"小计\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"￥\"+_vm._s(scope.row.dishNum * scope.row.dishPrice))]}}])})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\",\"margin-top\":\"15px\",\"margin-bottom\":\"15px\"}},[_c('span',{staticClass:\"font-title-medium\"},[_vm._v(\"合计：\")]),_vm._v(\" \"),_c('span',{staticClass:\"font-title-medium color-danger\"},[_vm._v(\"￥\"+_vm._s(_vm.order.originalPrice))])])],1),_vm._v(\" \"),_c('el-card',{staticClass:\"standard-margin\",attrs:{\"shadow\":\"never\"}},[_c('span',{staticClass:\"font-title-medium\"},[_vm._v(\"服务单信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-container-border\"},[_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"订单编号\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm.order.id))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"申请状态\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"正在申请\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"申请时间\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm._f(\"formatTime\")(_vm.order.createTime)))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"申请人ID\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm.order.applyTable.userId))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"联系电话\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm.order.applyTable.phone))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"退货原因\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(_vm._s(_vm.order.applyTable.reason))])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"form-container-border\"},[_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"订单总额\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.originalPrice))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"店铺折扣\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.shopDiscount))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"使用优惠券\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.couponDiscount))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"已支付保证金\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.margin))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"其他费用\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.otherFee))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",attrs:{\"span\":6}},[_vm._v(\"实际支付\")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",attrs:{\"span\":18}},[_vm._v(\"￥\"+_vm._s(_vm.order.auctualPay))])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"form-border form-left-bg font-small\",staticStyle:{\"height\":\"52px\",\"line-height\":\"32px\"},attrs:{\"span\":6}},[_vm._v(\"\\n          确认退款金额\\n        \")]),_vm._v(\" \"),_c('el-col',{staticClass:\"form-border font-small\",staticStyle:{\"height\":\"52px\"},attrs:{\"span\":18}},[_vm._v(\"\\n          ￥\\n          \"),_c('el-input',{staticStyle:{\"width\":\"200px\",\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"disabled\":\"\",\"placeholder\":_vm.order.auctualPay}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\",\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.handleY}},[_vm._v(\"同意该申请\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){_vm.messageDialogVisible = true}}},[_vm._v(\"拒绝该申请\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"填写拒绝理由\",\"visible\":_vm.messageDialogVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.messageDialogVisible=$event}}},[_c('el-form',{ref:\"receiverInfoForm\",attrs:{\"model\":_vm.message,\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题：\"}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"disabled\":\"\"},model:{value:(_vm.message.title),callback:function ($$v) {_vm.$set(_vm.message, \"title\", $$v)},expression:\"message.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容：\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":\"3\"},model:{value:(_vm.message.content),callback:function ($$v) {_vm.$set(_vm.message, \"content\", $$v)},expression:\"message.content\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.messageDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSendMessage}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-009f853c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/order-ms/order/handleCancelOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-009f853c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./handleCancelOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./handleCancelOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./handleCancelOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-009f853c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./handleCancelOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-009f853c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/order-ms/order/handleCancelOrder.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}